# The following line will download a Docker image that already is set up with python 3.7, so that we can run our
# simple web application.
FROM python:3.7-slim-buster

# This exposes the port 8081 so that Docker container can receive requests through this port.
EXPOSE 8081

# Copy our python script over to the Docker container.
COPY . .

RUN apt-get update ##[edited]
RUN apt-get install 'ffmpeg'\
   'libsm6'\
   'libxext6'  -y

# download model from google drive
RUN pip install gdown
RUN gdown https://drive.google.com/uc?id=1WYyKulMNr5bwCNBnPn9IeJvTQy43930U
RUN tar -xvzf vqa_model_final.tar.gz

# Need to download and install packages
RUN pip3 install -r requirements.txt

# Run our python script/application in the Docker container.
CMD python ./frontend.py